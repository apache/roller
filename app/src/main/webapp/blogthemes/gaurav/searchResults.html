<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">>
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="robots" content="noindex">
	<span th:replace="${model.getTemplateIdByName('common_html_head')}"></span>
	<title th:utext="${model.weblog.name + ': Search Results for ' + model.searchTerm}">xxx</title>
	<th:block th:if="${model.resultCount > 0}">
		<style>span.searchword { background-color:yellow; }</style>
		<script>
		    searchhi_config = {ignore_site : '[(${url.site})]'};
		</script>
		<script type="application/x-javascript" th:src="${url.themeResource('gaurav', 'js/searchhi.js')}"></script>
		<script>
			function loadSearchHighlight() {
				searchhi.highlightWord(document.getElementById("search_results"), '[(${model.searchTerm})]');
			}
		</script>
   	</th:block>
</head>
<body onload="loadSearchHighlight()">

	<header>
    	<span th:replace="${model.getTemplateIdByName('standard_header')}"></span>
	</header>

	<div class="container">
	
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header" th:utext="${model.weblog.name + ' '}">
                    <small th:utext="${model.weblog.tagline}">xxx</small>
                </h1>
            </div>
        </div>
	  	
	    <div class="row">
	  	
			<!-- BODY MAIN-->
			<div id="main_content" class="col-lg-8">
				<div class="alert alert-info">
					<p th:utext="${'Search Results for ' + model.searchTerm}">xxx</p>
					<span th:utext="${utils.msg('macro.weblog.searchhits', model.searchTerm, T(Math).max(model.resultCount, 0)}">xxx</span>
				</div>
				<th:block th:switch="${model.resultCount > 0}">
					<div th:case="${true}" id="search_results">
						 <div th:replace="fragments :: PreviousNextSearchPager"></div>

						 <div th:replace="fragments :: WeblogEntriesPager"></div>
						 <ul class="pager" th:with="pager=${model.getWeblogEntriesPager()}">
							<li th:if="${pager.prevLink != null}" class="previous"><a th:href="${pager.prevLink}" th:utext="${'← ' + pager.prevLabel"}>xxx</a></li>
							<li th:if="${pager.nextLink != null}" class="next"><a th:href="${pager.nextLink}" th:utext="${pager.nextLabel + ' →'">xxx</a></li>
						 </ul>
					</div>
					<div th:case="${false}"><br><h3>Sorry, your search returned no results</h3><br>
						<th:block th:if="${model.resultCount < 0}"><h3 th:utext="${utils.msg('error.searchProblem')}"></h3><br></th:block>
					</div>
				</th:block>
			</div> <!-- /.main content -->

			<!-- BODY - SIDEBAR -->
			<div id="sidebar_content" class="col-lg-4">
				<div class="well">
					<h3>Advanced Search</h3>
					<p>You can refine your search and/or search within one weblog category</p>
					<form class="form-inline" role="form" method="get" th:action="${url.search}">
						<div class="form-group" role="form">
							<input type="text" id="q" class="form-control" name="q" size="8" maxlength="255" required th:value="${model.searchTerm}"/>
						</div>
						<div class="form-group" role="form" th:with="cats = ${model.weblog.getWeblogCategories()}">
							<select th:if="${cats.size() > 1}" class="form-control" name="cat">
								<option value="" th:utext="${utils.msg('macro.searchresults.incategory')}">xxx</option>
								<option th:each="cat : ${cats}"
										th:selected="${cat.name == model.categoryName}" th:utext="${cat.name}"></option>
							</select>
						</div>
						<div class="form-group" role="form">
							<button type="submit" class="btn btn-primary">Search</button>
						</div>
					</form>
				</div>
			</div> <!-- close sidebar_content -->
		</div> <!-- /.row -->
	</div> <!-- /.container -->

	<footer>
    	<span th:replace="${model.getTemplateIdByName('standard_footer')}">xxx</span>
	</footer>
	
</body>
</html>
