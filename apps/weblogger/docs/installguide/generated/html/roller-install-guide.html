<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=utf-8">
	<TITLE></TITLE>
	<META NAME="GENERATOR" CONTENT="LibreOffice 3.3  (Unix)">
	<META NAME="CREATED" CONTENT="20070706;11182000">
	<META NAME="CHANGED" CONTENT="20110122;7475900">
	<META NAME="KEYWORDS" CONTENT="OpenDS Directory Server Administration Framework">
	<META NAME="Info 1" CONTENT="">
	<META NAME="Info 2" CONTENT="">
	<META NAME="Info 3" CONTENT="">
	<META NAME="Info 4" CONTENT="">
	<STYLE TYPE="text/css">
	<!--
		P { margin-bottom: 0.08in; widows: 2; orphans: 2 }
		P.western { font-family: "Times New Roman", serif }
		H1 { margin-bottom: 0.08in; border-top: none; border-bottom: 2.50pt solid #000000; border-left: none; border-right: none; padding: 0in; widows: 2; orphans: 2; page-break-before: always }
		H1.western { font-family: "Helvetica", sans-serif; font-size: 22pt; font-style: italic }
		H1.cjk { font-family: "Mincho"; font-size: 16pt }
		H1.ctl { font-family: "Lucidasans"; font-size: 16pt }
		H2 { margin-bottom: 0.08in; widows: 2; orphans: 2 }
		H2.western { font-family: "Helvetica", sans-serif; font-style: italic }
		H2.cjk { font-family: "Mincho"; font-size: 14pt; font-style: italic }
		H2.ctl { font-family: "Lucidasans"; font-size: 14pt; font-style: italic }
		H3 { margin-bottom: 0.08in; widows: 2; orphans: 2 }
		H3.western { font-family: "Helvetica", sans-serif; font-size: 16pt }
		H3.cjk { font-family: "Mincho" }
		H3.ctl { font-family: "Lucidasans" }
		H4 { margin-bottom: 0.08in; widows: 2; orphans: 2; page-break-before: auto }
		H4.western { font-family: "Helvetica Bold", sans-serif; font-size: 14pt; font-style: italic }
		H4.cjk { font-family: "Andale Sans UI" }
		H4.ctl { font-family: "Lucidasans" }
		TD P { margin-bottom: 0in; widows: 2; orphans: 2 }
		TD P.western { font-family: "Times New Roman", serif }
		TH P { margin-bottom: 0in; border-top: none; border-bottom: 2.50pt solid #000000; border-left: none; border-right: none; padding: 0in; widows: 2; orphans: 2 }
		TH P.western { font-family: "Helvetica", sans-serif; font-style: oblique }
		TH P.cjk { font-style: italic }
		TH P.ctl { font-style: italic }
		PRE { font-family: "Cumberland", monospace; widows: 2; orphans: 2 }
		A:visited { so-language: en-US }
		TT { font-family: "Cumberland", monospace }
	-->
	</STYLE>
</HEAD>
<BODY LANG="en-US" DIR="LTR">
<P CLASS="western" ALIGN=RIGHT STYLE="margin-bottom: 0in; background: transparent">
<BR>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-bottom: 0in; background: transparent">
<BR>
</P>
<P CLASS="western" ALIGN=RIGHT STYLE="margin-bottom: 0in; background: transparent">
<IMG SRC="roller-install-guide_html_490f4977.png" NAME="graphics1" WIDTH=208 HEIGHT=84 BORDER=0></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-bottom: 0in; background: transparent">
<BR>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-bottom: 0in; background: transparent">
<BR>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-bottom: 0in; background: transparent">
<BR>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-bottom: 0in; background: transparent">
<BR>
</P>
<P CLASS="western" ALIGN=RIGHT STYLE="margin-bottom: 0in; background: transparent">
<FONT FACE="Helvetica, sans-serif"><FONT SIZE=7><B>Installation Guide</B></FONT></FONT></P>
<P CLASS="western" ALIGN=RIGHT STYLE="margin-bottom: 0in; background: transparent">
<BR>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-bottom: 0in; background: transparent">
<BR>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-bottom: 0in; background: transparent">
<BR>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-bottom: 0in; background: transparent">
<BR>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-bottom: 0in; background: transparent">
<BR>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-bottom: 0in; background: transparent">
<BR>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-bottom: 0in; background: transparent">
<BR>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-bottom: 0in; background: transparent">
<BR>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-bottom: 0in; background: transparent">
<BR>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-bottom: 0in; background: transparent">
<BR>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-bottom: 0in; background: transparent">
<BR>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-bottom: 0in; background: transparent">
<BR>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-bottom: 0in; background: transparent">
<BR>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-bottom: 0in; background: transparent">
<BR>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-bottom: 0in; background: transparent">
<BR>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-bottom: 0in; background: transparent">
<BR>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-bottom: 0in; background: transparent">
<BR>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-bottom: 0in; background: transparent">
<BR>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-bottom: 0in; background: transparent">
<BR>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-bottom: 0in; background: transparent">
<BR>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-bottom: 0in; background: transparent">
<BR>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-bottom: 0in; background: transparent">
<FONT FACE="Helvetica, sans-serif"><FONT SIZE=4 STYLE="font-size: 16pt"><B>Apache
Roller Weblogger</B></FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-bottom: 0in; background: transparent">
<FONT FACE="Helvetica, sans-serif"><FONT SIZE=4 STYLE="font-size: 16pt"><B>Version
4.0.1</B></FONT></FONT></P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-bottom: 0in; background: transparent">
<SDFIELD TYPE=DOCINFO SUBTYPE=CHANGE FORMAT=DATE SDNUM="1033;1033;MMMM YYYY">January 2011</SDFIELD>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-bottom: 0in; background: transparent">
 
</P>
<DIV ID="Table of Contents1" DIR="LTR">
	<DIV ID="Table of Contents1_Head" DIR="LTR">
		<P STYLE="margin-top: 0.17in; page-break-before: always; page-break-after: avoid">
		<FONT FACE="Helvetica, sans-serif"><FONT SIZE=4 STYLE="font-size: 16pt"><B>Table
		of Contents</B></FONT></FONT></P>
	</DIV>
	<P STYLE="margin-bottom: 0in"><FONT SIZE=3><B>1   Overview	3</B></FONT></P>
	<P STYLE="margin-left: 0.2in; margin-bottom: 0in">1.1   Copyright
	and trademark information	3</P>
	<P STYLE="margin-left: 0.2in; margin-bottom: 0in">1.2   Feedback	3</P>
	<P STYLE="margin-left: 0.2in; margin-bottom: 0in">1.3  
	Acknowledgments	3</P>
	<P STYLE="margin-left: 0.2in; margin-bottom: 0in">1.4  
	Modifications and Updates	3</P>
	<P STYLE="margin-bottom: 0in"><FONT SIZE=3><B>2   The 5-minute
	install	4</B></FONT></P>
	<P STYLE="margin-bottom: 0in"><FONT SIZE=3><B>3   Ready to roll?	5</B></FONT></P>
	<P STYLE="margin-left: 0.2in; margin-bottom: 0in">3.1   Tomcat:
	JavaMail and Activation	5</P>
	<P STYLE="margin-left: 0.2in; margin-bottom: 0in">3.2   Tomcat: URI
	encoding needed for I118N	5</P>
	<P STYLE="margin-bottom: 0in"><FONT SIZE=3><B>4   Download and
	un-package Roller	6</B></FONT></P>
	<P STYLE="margin-left: 0.2in; margin-bottom: 0in">4.1   Installation
	directory layout	6</P>
	<P STYLE="margin-left: 0.2in; margin-bottom: 0in">4.2   The Roller
	Weblogger WAR 	6</P>
	<P STYLE="margin-bottom: 0in"><FONT SIZE=3><B>5   Prepare your
	database for Roller	7</B></FONT></P>
	<P STYLE="margin-left: 0.2in; margin-bottom: 0in">5.1   Create a
	database for Roller 	7</P>
	<P STYLE="margin-left: 0.2in; margin-bottom: 0in">5.2   Check your
	JDBC driver setup	7</P>
	<P STYLE="margin-left: 0.2in; margin-bottom: 0in">5.3   MySQL and
	Oracle considerations	7</P>
	<P STYLE="margin-bottom: 0in"><FONT SIZE=3><B>6   Configure Roller	8</B></FONT></P>
	<P STYLE="margin-left: 0.2in; margin-bottom: 0in">6.1   MySQL
	example	8</P>
	<P STYLE="margin-bottom: 0in"><FONT SIZE=3><B>7   Deploy Roller	9</B></FONT></P>
	<P STYLE="margin-left: 0.2in; margin-bottom: 0in">7.1   Put
	roller-custom.properties in classpath	9</P>
	<P STYLE="margin-left: 0.2in; margin-bottom: 0in">7.2   Deploy
	Roller via administration console	9</P>
	<P STYLE="margin-bottom: 0in"><FONT SIZE=3><B>8   Getting started
	with Roller	12</B></FONT></P>
	<P STYLE="margin-left: 0.2in; margin-bottom: 0in">8.1   Navigate to
	Roller and finish the install 	12</P>
	<P STYLE="margin-left: 0.2in; margin-bottom: 0in">8.2   Register a
	user and create a weblog	13</P>
	<P STYLE="margin-bottom: 0in"><FONT SIZE=3><B>9   Configuration tips
	and tricks	14</B></FONT></P>
	<P STYLE="margin-left: 0.2in; margin-bottom: 0in">9.1   Setting up
	Roller's Planet feed aggregator	14</P>
	<P STYLE="margin-left: 0.2in; margin-bottom: 0in">9.2   Changing
	keys in security.xml	15</P>
	<P STYLE="margin-left: 0.2in; margin-bottom: 0in">9.3   Using
	Server-provided database and mail resources	16</P>
	<P STYLE="margin-left: 0.2in; margin-bottom: 0in">9.4   Manual table
	creation and upgrade	17</P>
	<P STYLE="margin-bottom: 0in"><FONT SIZE=3><B>10   Upgrading
	Roller	18</B></FONT></P>
	<P STYLE="margin-left: 0.2in; margin-bottom: 0in">10.1   For those
	upgrading from Roller 2.x to Roller 4.0	18</P>
	<P STYLE="margin-left: 0.2in; margin-bottom: 0in">10.2   Backup your
	old Roller 	19</P>
	<P STYLE="margin-left: 0.2in; margin-bottom: 0in">10.3   Install and
	startup the new Roller 	20</P>
	<P STYLE="margin-bottom: 0in"><FONT SIZE=3><B>11  
	roller.properties	21</B></FONT></P>
</DIV>
<P CLASS="western"><BR><BR>
</P>
<H1 CLASS="western" STYLE="page-break-before: always">1Overview</H1>
<P CLASS="western" ALIGN=LEFT STYLE="background: transparent; font-weight: normal">
This document describes how to install the Apache Roller Weblogger
software. It explains what you need to install first, how to download
Roller, how to configure Roller and how to install it to your
existing Java application server and relational database. If also
offers a 5-minute install option   for more advanced folks.</P>
<H2 CLASS="western">1.1Copyright and trademark information</H2>
<P CLASS="western" ALIGN=LEFT STYLE="margin-bottom: 0in; background: transparent">
The contents of this document are subject to the terms of the Apache
Software License.</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-bottom: 0in; background: transparent">
<BR>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-bottom: 0in; background: transparent">
All trademarks within this document belong to legitimate owners.</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-bottom: 0in; background: transparent">
<BR>
</P>
<H2 CLASS="western">1.2Feedback</H2>
<P CLASS="western" ALIGN=LEFT STYLE="margin-bottom: 0in; background: transparent">
Please direct any comments or suggestions about this document to:
user@roller.apache.org</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-bottom: 0in; background: transparent">
<BR>
</P>
<H2 CLASS="western">1.3Acknowledgments</H2>
<P CLASS="western" ALIGN=LEFT STYLE="margin-bottom: 0in; background: transparent">
The original version of this document was written by Dave Johnson.
The document is currently written and updated by the Apache Roller
project of the Apache Software Foundation.</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-bottom: 0in; background: transparent">
<BR>
</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-bottom: 0in; background: transparent">
The general format of this document was based on the documentation
template used by the OpenDS project which in turn was based on the
templates used by the <A HREF="http://www.OpenOffice.org/">OpenOffice.org</A>
project.</P>
<P CLASS="western" ALIGN=LEFT STYLE="margin-bottom: 0in; background: transparent">
<BR>
</P>
<H2 CLASS="western">1.4Modifications and Updates</H2>
<TABLE WIDTH=100% CELLPADDING=4 CELLSPACING=0 RULES=COLS STYLE="page-break-inside: avoid">
	<COL WIDTH=59*>
	<COL WIDTH=197*>
	<THEAD>
		<TR VALIGN=TOP>
			<TH WIDTH=23% STYLE="; border-top: 1px solid #000000; border-bottom: none; border-left: 1px solid #000000; border-right: none; padding-top: 0.04in; padding-bottom: 0in; padding-left: 0.04in; padding-right: 0in">
				<P CLASS="western" ALIGN=LEFT>Date</P>
			</TH>
			<TH WIDTH=77% STYLE="border-top: 1px solid #000000; border-bottom: none; border-left: 1px solid #000000; border-right: 1px solid #000000; padding-top: 0.04in; padding-bottom: 0in; padding-left: 0.04in; padding-right: 0.04in">
				<P CLASS="western" ALIGN=LEFT>Description of Change</P>
			</TH>
		</TR>
	</THEAD>
	<TBODY>
		<TR VALIGN=TOP>
			<TD WIDTH=23% STYLE="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: none; padding-top: 0in; padding-bottom: 0.04in; padding-left: 0.04in; padding-right: 0in">
				<P CLASS="western" ALIGN=LEFT>July 2007</P>
			</TD>
			<TD WIDTH=77% STYLE="border-top: none; border-bottom: 1px solid #000000; border-left: 1px solid #000000; border-right: 1px solid #000000; padding-top: 0in; padding-bottom: 0.04in; padding-left: 0.04in; padding-right: 0.04in">
				<P CLASS="western" ALIGN=LEFT>Rewritten for simplified Roller 4.0
				installation process</P>
			</TD>
		</TR>
	</TBODY>
</TABLE>
<P CLASS="western" ALIGN=LEFT STYLE="margin-bottom: 0in; background: transparent">
<BR>
</P>
<H1 CLASS="western" STYLE="page-break-before: always">2The 5-minute
install</H1>
<P CLASS="western">If you really know what you're doing, you just
want to get Roller up-and-running for a quick evaluation and you are
using a well-supported platform (e.g. Tomcat and MySQL), you can
probably get up and running in about 5-minutes by following the
simple instructions on this page. If you're not so confident, then
skip this page and go on to <B>Section 3</B>. Here's what you do for
the 5-minute install:</P>
<P CLASS="western"><BR><BR>
</P>
<P CLASS="western"><B>STEP 1: Download Roller</B> and un-package into
a directory on your disk via Zip or GNU Tar.</P>
<P CLASS="western"><B>STEP 2: Create a database for the Roller
tables</B>. <BR>For exmaple, on MySQL you might do something like
this:</P>
<PRE>   <FONT FACE="Courier New"><FONT SIZE=2 STYLE="font-size: 11pt">% mysql -u root -p</FONT></FONT>
   <FONT FACE="Courier New"><FONT SIZE=2 STYLE="font-size: 11pt">password: *****</FONT></FONT>
   <FONT FACE="Courier New"><FONT SIZE=2 STYLE="font-size: 11pt">mysql&gt; create database rollerdb;</FONT></FONT>
   <FONT FACE="Courier New"><FONT SIZE=2 STYLE="font-size: 11pt">mysql&gt; grant all on rollerdb.* to scott@'%' identified by 'tiger';</FONT></FONT>
   <FONT FACE="Courier New"><FONT SIZE=2 STYLE="font-size: 11pt">mysql&gt; grant all on rollerdb.* to scott@localhost identified by 'tiger';</FONT></FONT></PRE><P CLASS="western">
<BR><BR>
</P>
<P CLASS="western"><B>STEP 3: Create a roller-custom.properties</B>
file in your Servlet container's classpath, e.g. on Tomcat you'd put
it in <FONT FACE="Courier New, monospace">common/classes</FONT>. Put
the settings below into the file and substitute your database and
mail connection parameters for those in bold.</P>
<PRE>        <FONT SIZE=2 STYLE="font-size: 11pt">installation.type=auto</FONT>
        <FONT SIZE=2 STYLE="font-size: 11pt">database.configurationType=jdbc</FONT>
        <FONT SIZE=2 STYLE="font-size: 11pt">database.jdbc.driverClass=<I><B>com.mysql.jdbc.Driver</B></I></FONT>
        <FONT SIZE=2 STYLE="font-size: 11pt">database.jdbc.connectionURL=<I><B>jdbc:mysql://localhost:3306/rollerdb</B></I></FONT>
        <FONT SIZE=2 STYLE="font-size: 11pt">database.jdbc.username=<I><B>scott</B></I></FONT>
        <FONT SIZE=2 STYLE="font-size: 11pt">database.jdbc.password=<I><B>tiger</B></I></FONT>
        <FONT SIZE=2 STYLE="font-size: 11pt">mail.configurationType=properties</FONT>
        <FONT SIZE=2 STYLE="font-size: 11pt">mail.hostName=</FONT><TT><FONT FACE="Courier New"><FONT SIZE=2 STYLE="font-size: 11pt"><I><B>smtp-server.example.com</B></I></FONT></FONT></TT>
<TT>        <FONT FACE="Courier New"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN STYLE="font-style: normal"><SPAN STYLE="font-weight: normal">mail.username=</SPAN></SPAN></FONT></FONT></TT><TT><FONT FACE="Courier New"><FONT SIZE=2 STYLE="font-size: 11pt"><I><B>scott</B></I></FONT></FONT></TT>
<TT>        <FONT FACE="Courier New"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN STYLE="font-style: normal"><SPAN STYLE="font-weight: normal">mail.password=</SPAN></SPAN></FONT></FONT></TT><TT><FONT FACE="Courier New"><FONT SIZE=2 STYLE="font-size: 11pt"><I><B>tiger</B></I></FONT></FONT></TT>
</PRE><P CLASS="western">
<B>STEP 4: Check your Servlet container's JDBC and JavaMail setup.
</B><SPAN STYLE="font-weight: normal">Make sure you've got the JDBC
driver for your database in your Servlet container's classpath, e.g.
on Tomcat place the driver JAR in </SPAN><FONT FACE="Courier New, monospace"><SPAN STYLE="font-weight: normal">common/lib</SPAN></FONT><SPAN STYLE="font-weight: normal">.
And on Tomcat, if you want to be able to send mail you'll need to add
the JavaMail and Activation jars (</SPAN><FONT FACE="Courier New, monospace"><SPAN STYLE="font-weight: normal">mail.jar</SPAN></FONT><SPAN STYLE="font-weight: normal">
and </SPAN><FONT FACE="Courier New, monospace"><SPAN STYLE="font-weight: normal">activation.jar</SPAN></FONT><SPAN STYLE="font-weight: normal">)
there too.</SPAN></P>
<P CLASS="western"><B>STEP 5: Deploy Roller to your Servlet container</B>
using your container's Admin Console deploy Roller as a directory.
The Roller WAR directory is in the installation directory under
<FONT FACE="Courier New, monospace">webapp/roller</FONT>.</P>
<P CLASS="western"><B>STEP 6: Browse to Roller and get Rollin'</B>
(probably at <A HREF="http://localhost:8080/roller">http://localhost:8080/roller</A>).
If Roller is up and running, then proceed to Section 8 Getting
started with Roller. If Roller isn't up and running and you can 't
figure out why, then try the normal installation procedure starting
with <B>Section 3</B> below. 
</P>
<P CLASS="western"><BR><BR>
</P>
<H1 CLASS="western" STYLE="page-break-before: always">3Securing
Roller</H1>
<P CLASS="western"><FONT SIZE=4>Security should be top-of-mind when
setting up any web site, even one that is on a private network and
internal to your organization. Here are some recommendations for
keeping your Roller installation secure:</FONT></P>
<UL>
	<LI><P CLASS="western"><FONT SIZE=4><B>Perform Roller installation
	on a secure network</B>. When you are installing Roller it is
	possible for other users to interfere with your installation. If
	other users have access to the server, one of them could create the
	admin account before you do. So, when you install Roller, do so on a
	server that cannot be accessed by others.</FONT></P>
	<LI><P CLASS="western"><FONT SIZE=4><B>Do not allow open
	registration of new users</B>. Roller can offer a registration link
	so that new users can register themselves, but this feature is
	turned off because it is not safe to allow just anybody to register
	for an account on your blog server. If you want to turn it on, login
	as an administrative user, go to Roller's Server Administration page
	and enable the <B>Allow New Users</B> option.</FONT></P>
	<LI><P CLASS="western"><FONT SIZE=4><B>Do not allow HTML in
	comments</B>. Roller can allow users to write comments in a
	safe-subset of HTML, but HTML use in comments is not allowed at all
	because of security concerns with even a so called safe-subset of
	HTML. If you want to turn it on, login as an administrative user, go
	to Roller's Server Administration page, enable <FONT FACE="Times New Roman, serif">the
	</FONT><FONT COLOR="#000000"><FONT FACE="Times New Roman, serif"><SPAN STYLE="font-style: normal"><B>Allow
	html in comments</B></SPAN></FONT></FONT><FONT FACE="Times New Roman, serif">
	o</FONT>ption and make sure the <B>HTML Subset Restriction</B> box
	is checked.</FONT></P>
	<LI><P CLASS="western"><FONT SIZE=4><B>Run Roller over SSL
	connection</B></FONT><FONT SIZE=4>. If you run Roller over a plain
	old HTTP connection, it is possible for others to snoop your
	password when you login, for example over an open WIFI network.
	Instead, you should consult your Java Application Server's
	documentation and configure your Roller installation to run via
	HTTPS only. </FONT>
	</P>
</UL>
<H1 CLASS="western">4Ready to roll?</H1>
<P CLASS="western">First, let's make sure you have everything you
need to install and run Roller.</P>
<P CLASS="western" ALIGN=LEFT>Roller is a database-driven Java web
application. To run it you need Java, a Java Servlet container such
as Tomcat and a database such as MySQL. More specifically, here's
what you need to install and run Roller:</P>
<UL>
	<LI><P CLASS="western"><B>The Java development kit</B>, specifically
	the Sun Java 2 SE 1.5 JDK. The computer on which you install Roller
	should be configured to run with the Java SE 5. Roller 3.x was the
	last major Roller release to support Java 1.4.2.</P>
	<LI><P CLASS="western"><B>A Java application server</B>, or more
	specifically a Servlet container that supports the Servlet 2.4 API.
	Hereinafter, we'll just call this your <I>server</I>. The Roller
	community tends to use and is best able to answer questions about
	Tomcat 5.5, Tomcat 6.0, Sun Web Server 7.0 and Glassfish 2.0. 
	</P>
	<LI><P CLASS="western"><B>A relational database</B> such as MySQL or
	Apache Derby. The Roller community tends to use and is best able to
	answer questions about MySQL and Apache Derby, but it is possible to
	use other databases with Roller. Roller includes database creation
	scripts for DB2, Derby, HSQL-DB, Microsoft SQL Server, MySQL, Oracle
	and PostgreSQL.</P>
</UL>
<P CLASS="western"><FONT FACE="Times New Roman, serif"><FONT SIZE=3><I>If
you're using Tomcat, check the Tomcat Considerations section below,
otherwise you are ready to move on to Section 4: Download and
un-package Roller.</I></FONT></FONT></P>
<H2 CLASS="western">4.1Tomcat: JavaMail and Activation</H2>
<P CLASS="western" STYLE="font-style: normal"><FONT FACE="Times New Roman, serif"><FONT SIZE=3>Tomcat
does not include the Java Mail and Activation jars that Roller needs
for email notification, So, if you like to use Roller's e-mail
notification features, you'll need to download those jars and place
them in Tomcat's classpath. Download them from Sun
(</FONT></FONT><A HREF="http://java.sun.com/products/javamail"><FONT FACE="Times New Roman, serif"><FONT SIZE=3>http://java.sun.com/products/javamail</FONT></FONT></A><FONT FACE="Times New Roman, serif"><FONT SIZE=3>)
and place them in Tomcat's </FONT></FONT><FONT FACE="Courier New, monospace"><FONT SIZE=3>common/lib</FONT></FONT><FONT FACE="Times New Roman, serif"><FONT SIZE=3>
directory.</FONT></FONT></P>
<H2 CLASS="western">4.2Tomcat: URI encoding needed for I118N</H2>
<P CLASS="western"><FONT FACE="Times New Roman, serif"><FONT SIZE=3><SPAN STYLE="font-style: normal">Roller
supports internationalization (I18N), but on Tomcat some additional
configuration is necessary. You must ensure that Tomcat's URI
encoding is set to UTF-8. You can do this by editing the Tomcat
configuration file </SPAN></FONT></FONT><FONT FACE="Courier New"><FONT SIZE=3><SPAN STYLE="font-style: normal">conf/server.xml</SPAN></FONT></FONT><FONT FACE="Times New Roman, serif"><FONT SIZE=3><SPAN STYLE="font-style: normal">
and adding </SPAN></FONT></FONT><FONT FACE="Courier New, monospace"><FONT SIZE=3><SPAN STYLE="font-style: normal">URIEncoding=”UTF-8”</SPAN></FONT></FONT><FONT FACE="Times New Roman, serif"><FONT SIZE=3><SPAN STYLE="font-style: normal">
to each connector element, as shown below:</SPAN></FONT></FONT></P>
<PRE>   &lt;Connector port=&quot;8080&quot;
      maxThreads=&quot;150&quot; minSpareThreads=&quot;25&quot; maxSpareThreads=&quot;75&quot;
      enableLookups=&quot;false&quot; redirectPort=&quot;8443&quot; debug=&quot;0&quot; 
      acceptCount=&quot;100&quot; connectionTimeout=&quot;20000&quot;
      disableUploadTimeout=&quot;true&quot; 
      <B>URIEncoding=&quot;UTF-8&quot; </B>/&gt;</PRE><P CLASS="western" STYLE="margin-bottom: 0in">
<BR>
</P>
<P CLASS="western" STYLE="font-style: normal"><FONT FACE="Times New Roman, serif"><FONT SIZE=3>And
make sure you do this for <I>every</I> connector through which you
use Roller. For example, if you use the AJP connector or HTTPS
connector you need to add the <TT>URIEncoding=&quot;UTF-8&quot;</TT>
attribute to those connectors as well.</FONT></FONT></P>
<H1 CLASS="western">5Download and un-package Roller</H1>
<P CLASS="western">Download the Apache Roller release file from
<A HREF="http://roller.apache.org/">http://roller.apache.org</A>. If
you're a Windows user download the .zip file and use your favorite
ZIP program to unzip the release into a directory on your computer's
disk. Unix users can download the .tar.gz file and use GNU tar to
un-package. 
</P>
<H2 CLASS="western">5.1Installation directory layout</H2>
<P CLASS="western">Once you've unpackaged the files you'll find a
directory structure like this:</P>
<P CLASS="western"><BR><BR>
</P>
<P CLASS="western">The <FONT FACE="Courier New, monospace">LICENCE.txt</FONT>
and <FONT FACE="Courier New, monospace">NOTICE.txt</FONT> files
contain the Apache Software License and other legal notices related
to the release. The <FONT FACE="Courier New, monospace">README.txt</FONT>
file just points to the documentation in the <FONT FACE="Courier New, monospace">docs</FONT>
directory.</P>
<H2 CLASS="western">5.2The Roller Weblogger WAR 
</H2>
<P CLASS="western">The Roller Weblogger application itself is in the
directory <FONT FACE="Courier New, monospace">webapp/roller</FONT>
and is organized using the standard Java EE WAR directory structure.
Generally speaking, you won't need to modify any files in side the
director. You can deploy it as is, in directory form, or you can
package it up as a .war if you prefer to deploy as a file.</P>
<P CLASS="western">For example, here's how you'd package it up as a
WAR:</P>
<PRE>   % cd apache-roller-X.0/webapp/roller
   % jar cvf ../roller.war *</PRE><P CLASS="western" STYLE="font-style: normal">
<BR><BR>
</P>
<H1 CLASS="western">6Prepare your database for Roller</H1>
<P CLASS="western">Before you can install Roller you'll probably need
to some work to prepare your database for Roller. 
</P>
<P CLASS="western">You need some place to put the Roller tables. Some
folks call this a table-space, but we refer to it as a <I>database</I>.
You need to create a database for Roller, or get your database
administrator to do it for you. And second, you need to have a JDBC
driver installed for you database of choice.</P>
<P CLASS="western"><I>If you're installing on Glasfish and using it's
built-in JavaDB/Derby database, you can skip this section; there's no
need to create a database in Derby and Glassfish already includes the
Derby JDBC driver.</I></P>
<H2 CLASS="western">6.1Create a database for Roller 
</H2>
<P CLASS="western">If you're luck enough to have your own database
administrator, ask them to setup a database for Roller. When they are
done, ask them to provide you with this information, you'll need it
later:</P>
<UL>
	<LI><P CLASS="western">Username and password for connecting to
	database</P>
	<LI><P CLASS="western">JDBC connection URL for database</P>
	<LI><P CLASS="western">JDBC driver class name</P>
</UL>
<P CLASS="western">If you don't have a database administrator then
you'll have to refer to the documentation for your database and do it
yourself. You need to create a database for Roller, protected by
username and password. For example, if you're using MySQL you might
do something like this:</P>
<PRE>   <FONT FACE="Courier New"><FONT SIZE=2 STYLE="font-size: 11pt">% mysql -u root -p</FONT></FONT>
   <FONT FACE="Courier New"><FONT SIZE=2 STYLE="font-size: 11pt">password: *****</FONT></FONT>
   <FONT FACE="Courier New"><FONT SIZE=2 STYLE="font-size: 11pt">mysql&gt; create database rollerdb;</FONT></FONT>
   <FONT FACE="Courier New"><FONT SIZE=2 STYLE="font-size: 11pt">mysql&gt; grant all on rollerdb.* to scott@'%' identified by 'tiger';</FONT></FONT>
   <FONT FACE="Courier New"><FONT SIZE=2 STYLE="font-size: 11pt">mysql&gt; grant all on rollerdb.* to scott@localhost identified by 'tiger';</FONT></FONT></PRE><H2 CLASS="western">
6.2Check your JDBC driver setup</H2>
<P CLASS="western">Make sure that you have the correct JDBC driver
installed in your server. Usually, this is as simple as downloading
the JDBC driver jar(s) and placing it (or them) into your server's
classpath. For example, on Tomcat 5.5 you place them in <FONT FACE="Courier New, monospace">common/lib</FONT>,
on Tomcat 6.0 in <FONT FACE="Courier New, monospace">lib</FONT> and
on Glassfish in your domain's <FONT FACE="Courier New, monospace">lib</FONT>
directory. 
</P>
<H2 CLASS="western">6.3MySQL and Oracle considerations</H2>
<P CLASS="western">Based on our experience supporting MySQL, we have
the following recommendations:</P>
<UL>
	<LI><P CLASS="western">For MySQL, make sure that TCP/IP networking
	is enabled. 
	</P>
	<LI><P CLASS="western">For MySQL 4.1.x use the J/Connector 3.0.X
	JDBC drivers instead of the newer 3.1.X series.</P>
	<LI><P CLASS="western">For MySQL 5.X use the J/Connector 3.1.X JDBC
	drivers instead of the newer 3.1.X series.</P>
	<LI><P CLASS="western">Make sure you enable MySQL's UTF-8 support.
	See this page for
	details:<BR><A HREF="http://rollerweblogger.org/wiki/Wiki.jsp?page=SetupUTF8onMySQL">http://rollerweblogger.org/wiki/Wiki.jsp?page=SetupUTF8onMySQL</A>
		</P>
	<LI><P CLASS="western">For Oracle users, use the 10g (10.1.0.2
	higher) drivers which should be packaged as ojdbc14.jar, even if
	operating on Oracle 9 server.</P>
</UL>
<H1 CLASS="western">7Configure Roller</H1>
<P CLASS="western">It is possible for you to configure Roller by
creating and editing only one file:</P>
<P CLASS="western">   <FONT FACE="Courier New, monospace">roller-custom.properties</FONT></P>
<P CLASS="western">That file is a simple Java properties file, a text
file that overrides settings defined in Roller's internal
<FONT FACE="Courier New, monospace">roller.properties </FONT>file. To
configure Roller you look at Roller's internal properties file,
decide which properties you need to override and then set those in
your <FONT FACE="Courier New, monospace">roller-custom.properties</FONT>
file.</P>
<P CLASS="western">You can find the full text of Roller's internal
<FONT FACE="Courier New, monospace">roller.properties</FONT> file in
<B>Section 11</B> and we encourage you to read it over, but we'll get
you started right here and now with a simple example that shows you
the bare minimum database configuration settings that you need to run
Roller.</P>
<P CLASS="western">Create a text file named <FONT FACE="Courier New, monospace">roller-custom.properties</FONT>
with the content below, but replacing the bold/italic text the
settings appropriate for your database and mail server.</P>
<PRE>   installation.type=auto
   database.configurationType=jdbc
   database.jdbc.driverClass=<I><B>JDBC driver class name</B></I>]
   database.jdbc.connectionURL=<I><B>JDBC connection URL</B></I>
   database.jdbc.username=<I><B>database username</B></I>
   database.jdbc.password=<I><B>database password</B></I>
   mail.configurationType=properties
   mail.hostname=<I><B>mail server hostname</B></I></PRE><P CLASS="western">
<BR><BR>
</P>
<P CLASS="western">The <FONT FACE="Courier New, monospace">installation.type=auto</FONT>
property tells Roller to operate in automatic installation mode. In
this mode Roller will provide very detailed error output to help you
debug database connection problems. If Roller finds that the database
exists but its tables are not, it will offer to run the database
creation scripts. If find finds that the tables are there, but they
are not up-to-date Roller will offer to upgrade them for you. Once
your Roller installation is complete and you are ready to go “live”
then you should set<FONT FACE="Courier New, monospace">
installation.type=manual</FONT>.</P>
<H2 CLASS="western">7.1MySQL example</H2>
<P CLASS="western">Here is an example roller-custom.properties file
that shows how to setup a MySQL connection. It shows the MySQL JDBC
driver class name, an example MySQL connection URL and
username/password settings for the mail connection.</P>
<PRE>   installation.type=auto
   database.configurationType=jdbc
   database.jdbc.driverClass=<I><B>com.mysql.jdbc.Driver</B></I>
   database.jdbc.connectionURL=<I><B>jdbc:mysql://localhost:3306/rollerdb</B></I>
   database.jdbc.username=<I><B>scott</B></I>
   database.jdbc.password=<I><B>tiger</B></I>
   mail.configurationType=properties
   mail.hostname=<TT><FONT FACE="Courier New"><I><B>smtp-server.example.com</B></I></FONT></TT>
<TT>   <FONT FACE="Courier New"><SPAN STYLE="font-style: normal"><SPAN STYLE="font-weight: normal">mail.username=</SPAN></SPAN></FONT></TT><TT><FONT FACE="Courier New"><I><B>scott</B></I></FONT></TT>
<TT>   <FONT FACE="Courier New"><SPAN STYLE="font-style: normal"><SPAN STYLE="font-weight: normal">mail.password=</SPAN></SPAN></FONT></TT><TT><FONT FACE="Courier New"><I><B>tiger</B></I></FONT></TT>
</PRE><P CLASS="western">
Next, we'll deploy Roller.</P>
<H1 CLASS="western" STYLE="page-break-before: always">8Deploy Roller</H1>
<P CLASS="western">Now that you've got the Roller WAR and you've
created your <FONT FACE="Courier New, monospace">roller-custom.properties</FONT>
file, you're ready to deploy Roller to your server. First, deploy
your properties file.</P>
<H2 CLASS="western">8.1Put <FONT FACE="Courier New, monospace">roller-custom.properties</FONT>
in classpath</H2>
<P CLASS="western">Roller can look for your properties file in a
number of ways and you can see <B>Section 11</B> for details. The
simplest thing for you to do is to place the file in your application
server's classpath, by dropping it into a <FONT FACE="Courier New, monospace">classes</FONT>
directory. On startup, Roller will find it there. Here's how to do it
on some popular servers:</P>
<UL>
	<LI><P CLASS="western">On Tomcat 5.5, copy the file into Tomcat's
	<FONT FACE="Courier New, monospace">common/classes</FONT> directory.</P>
	<LI><P CLASS="western">On Tomcat 6.0, copy it into Tomcat's <FONT FACE="Courier New, monospace">lib</FONT>
	directory.</P>
	<LI><P CLASS="western">On Glassfish, copy can copy it to your
	domain's <FONT FACE="Courier New, monospace">lib/classes</FONT>
	directory.</P>
</UL>
<P CLASS="western">Now you're ready to deploy Roller itself.</P>
<H2 CLASS="western">8.2Deploy Roller via administration console</H2>
<P CLASS="western">Use your server's administration console to deploy
the Roller web application. 
</P>
<P CLASS="western">You can deploy as a directory, in which case
you'll have to enter the path to your Roller installation's
<FONT FACE="Courier New, monospace">webapp/roller</FONT> directory.
Or you can deploy as a WAR file, in which case you will have to have
created a WAR file as we described in <B>Section 4.2</B>. 
</P>
<P CLASS="western">Let's discuss how to do that for Tomcat 6.0 and
Glassfish v2.0.</P>
<P CLASS="western"><BR><BR>
</P>
<H4 CLASS="western" STYLE="page-break-before: always">Deploying to
Apache Tomcat 6.0</H4>
<P CLASS="western">You can deploy to Tomcat as either a directory or
a WAR file. The screens-hot below shows directory-based deployment
options.</P>
<P CLASS="western"><BR><BR>
</P>
<P CLASS="western"><SPAN STYLE="background: transparent">Once Roller
is deployed, you'll see that it's listed among the other
applications. There's a <B>/roller</B> link to Roller itself and
there are options to start, stop, reload and undeploy.</SPAN></P>
<P CLASS="western"><SPAN STYLE="background: transparent">If Roller
doesn't start-up, look for the problem in the logs. You can find them
in Tomcat's </SPAN><FONT FACE="Courier New, monospace"><SPAN STYLE="background: transparent">logs</SPAN></FONT><SPAN STYLE="background: transparent">
directory. The Tomcat log file is </SPAN><FONT FACE="Courier New, monospace"><SPAN STYLE="background: transparent">catalina.out</SPAN></FONT><SPAN STYLE="background: transparent">
and the Roller log  is </SPAN><FONT FACE="Courier New, monospace"><SPAN STYLE="background: transparent">roller.log</SPAN></FONT><SPAN STYLE="background: transparent">.</SPAN></P>
<H4 CLASS="western" STYLE="page-break-before: always">Deploying to
Glassfish v2.0</H4>
<P CLASS="western">You can also deploy to Glassfish as either a
directory or a WAR file. The screenshot below shows directory-based
deployment options.</P>
<P CLASS="western"><IMG SRC="roller-install-guide_html_148117bd.png" NAME="graphics5" ALIGN=LEFT WIDTH=588 HEIGHT=542 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western"><SPAN STYLE="background: transparent">Once Roller
is deployed, you'll see that it's listed among the other
applications. There's a <B>Launch</B> link to Roller itself and there
are buttons to enable, display and redeploy.</SPAN></P>
<P CLASS="western"><IMG SRC="roller-install-guide_html_m11d68315.png" NAME="graphics6" ALIGN=LEFT WIDTH=585 HEIGHT=105 BORDER=0><BR CLEAR=LEFT><SPAN STYLE="background: transparent">If
Roller doesn't start-up, look for the problem in the logs. You can
find them in your Glassfish domain's  <FONT FACE="Courier New, monospace">logs</FONT>
directory. The Glassfish log file is <FONT FACE="Courier New, monospace">server.log</FONT>
and the Roller log  is <FONT FACE="Courier New, monospace">roller.log</FONT>.</SPAN></P>
<H1 CLASS="western">9Getting started with Roller</H1>
<P CLASS="western">You're not quite done with the installation
process Now you're ready to start using Roller, so we'll walk you
through getting started, registering a user and setting up a blog.
We'll also discuss briefly what happens when there is an error. 
</P>
<H2 CLASS="western">9.1Navigate to Roller and finish the install 
</H2>
<P CLASS="western">Navigate to Roller, if you are using a default
Tomcat or Glassfish installation then then URL of Roller is probably
<A HREF="http://localhost:8080/roller">http://localhost:8080/roller</A>.
You will see either a web page of error messages, a web page offering
to create database tables for you or web page asking you to complete
the installation by registering an admin user and creating a
front-page blog. First, let's talk about what happens when things go
wrong.</P>
<P CLASS="western">If there's a problem with your database
configuration, Roller will display a page or error messages to help
you diagnose the problem. It's possible that you entered the wrong
JDBC driver class name, connection URL, username or password. Or
perhaps your database is not running. Use the information provided to
determine what is wrong, fix it and then redeploy Roller.</P>
<P CLASS="western"><IMG SRC="roller-install-guide_html_79ee0277.png" NAME="graphics7" ALIGN=LEFT WIDTH=480 HEIGHT=273 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<H4 CLASS="western">Automatic tables creation</H4>
<P CLASS="western"><IMG SRC="roller-install-guide_html_2bf00c9b.png" NAME="graphics8" ALIGN=LEFT WIDTH=461 HEIGHT=105 BORDER=0><BR CLEAR=LEFT>If
your database configuration is good but Roller cannot find its
database tables, then Roller will offer to create those pages
automatically for you. If you give the go-ahead, Roller will run the
appropriate database creation script for your database and then show
you the results. You can then proceed to the next step to setup your
first user account and weblog.</P>
<H2 CLASS="western">9.2Register a user and create a weblog</H2>
<P CLASS="western">If Roller starts up fine but doesn't find a
front-page weblog then it will display the Completing Your
Installation below that explains how to register your first user,
create your first weblog and setup your site's front page.</P>
<P CLASS="western"><IMG SRC="roller-install-guide_html_m8d76424.png" NAME="graphics9" ALIGN=LEFT WIDTH=435 HEIGHT=322 BORDER=0><BR CLEAR=LEFT><BR><BR>
</P>
<P CLASS="western">You have to decide what you want as the front-page
of your Roller site. If you are using Roller to run your personal
weblog, then you probably want your weblog to be the front-page of
the site. In this case, create a weblog for yourself, <I>don't</I>
choose the front-page theme but <I>do</I> set your weblog as the
front-page weblog for the site. 
</P>
<P CLASS="western">If you are using Roller to run a community of
multiple weblogs, then you'll probably want to display an aggregated
front-page combining all weblogs on the site. In that case, create a
weblog to serve as the front-page, set it as the front-page weblog
and make sure you set the “aggregated front-page” setting on the
Server Admin page.   
</P>
<H4 CLASS="western">Don't forget: Reset the <FONT FACE="Courier New, monospace">installation.type</FONT>
flag</H4>
<P CLASS="western">Now that you're done with the installation you
should turn off Roller's auto-installation system. Edit your
<FONT FACE="Courier New, monospace">roller-custom.properties</FONT>
file and set <FONT FACE="Courier New, monospace">installation.type=manual</FONT>.
Then restart your server or Roller so that it accepts the new
setting.</P>
<H4 CLASS="western">What's next?</H4>
<P CLASS="western">Once you've gotten Roller up and running refer to
the Roller User Guide for more information on running your Roller
system and your weblog. For information on customizing your weblog,
refer to the Roller Template Guide. If you can't find what you want
in the documentation then subscribe to the Roller user mailing list
and ask your questions there:
<A HREF="http://cwiki.apache.org/confluence/display/ROLLER/Roller+Mailing+Lists">http://cwiki.apache.org/confluence/display/ROLLER/Roller+Mailing+Lists</A><BR>
  
</P>
<H1 CLASS="western">10Configuration tips and tricks</H1>
<P CLASS="western">This section covers some tips and tricks that can
help you get the most out of Roller. It covers Roller's Planet feed
aggregator, Acegi setup and how to setup Roller to use
server-provided resources.</P>
<H2 CLASS="western">10.1Setting up Roller's Planet feed aggregator</H2>
<P CLASS="western">Roller includes a RSS/Atom feed aggregator that
makes it possible to run a site like <A HREF="http://blogs.sun.com/">http://blogs.sun.com</A>
which provides weblogs for thousands of writers and an aggregated
front-page that displays the most recent posts form those plus dozens
of Sun bloggers from other sites such as blogger.com, typepad.com and
other services. Here's what you need to do.</P>
<H4 CLASS="western">STEP 1: Create a Planet cache directory</H4>
<P CLASS="western">Roller Planet needs a cache directory in which to
store the feeds it fetches. By default, Roller Planet will put it's
cache in your home directory under <FONT FACE="Courier New, monospace">roller_data/planetcache</FONT>.
If you want to place the cache somewhere else, you must override the
planet.aggregator.cache.dir property in your <FONT FACE="Courier New, monospace">roller-custom.properties</FONT>
file. For example:</P>
<PRE>    <FONT FACE="Courier New, monospace"><FONT SIZE=3>planet.aggregator.cache.dir=c:\\roller_data\planetcache</FONT></FONT>
</PRE><P CLASS="western">
Whether you override that property or not, <B>you must create the
cache directory</B>. Planet will not work unless the cache directory
exists and is writable by Roller.</P>
<H4 CLASS="western">STEP 2: Enable Planet via Roller custom
properties</H4>
<P CLASS="western">Enable Planet by adding the following to your
<FONT FACE="Courier New, monospace">roller-custom.properties</FONT>
file:</P>
<PRE>   <FONT SIZE=2 STYLE="font-size: 11pt"><FONT FACE="Courier New, monospace">planet.aggregator.enabled=</FONT><FONT FACE="Courier New, monospace"><B>true</B></FONT></FONT>

   <FONT SIZE=2 STYLE="font-size: 11pt"><FONT FACE="Courier New, monospace"># Tasks which are enabled.  Only tasks listed here will be run.<BR>   tasks.enabled=ScheduledEntriesTask,ResetHitCountsTask,\<BR>   TurnoverReferersTask,PingQueueTask,</FONT><FONT FACE="Courier New, monospace"><B>RefreshRollerPlanetTask,SyncWebsitesTask</B></FONT></FONT>
   
   <FONT SIZE=2 STYLE="font-size: 11pt"># Set of page models specifically for site-wide rendering</FONT>
   <FONT SIZE=2 STYLE="font-size: 11pt">rendering.siteModels=\</FONT>
   <FONT SIZE=2 STYLE="font-size: 11pt">org.apache.roller.weblogger.ui.rendering.model.SiteModel,\</FONT>
   <FONT SIZE=2 STYLE="font-size: 11pt"><B>org.apache.roller.weblogger.ui.rendering.model.PlanetModel</B></FONT></PRE><P CLASS="western">
<BR><BR>
</P>
<P CLASS="western"><FONT SIZE=3>Those property settings enable Planet
and enable the Planet tasks, both the <I>RefreshRollerPlanetTask</I>,
which runs every hour and fetches all RSS/Atom feed subsciptions, and
the <I>SyncWebsitesTask</I>, which runs every midnight and ensures
that each weblog in the Roller system is represented by a
subscription in the Planet aggregator. To enable usage of the
PlanetModel in the front-page weblog, we also override the
<FONT FACE="Courier New, monospace">rendering.siteModels</FONT>
property.</FONT></P>
<P CLASS="western"><BR><BR>
</P>
<H4 CLASS="western"><BR><BR>
</H4>
<H4 CLASS="western" STYLE="page-break-before: always">STEP 3:
Configure Planet via Planet custom properties</H4>
<P CLASS="western"><FONT SIZE=3>Create a new file called
<FONT FACE="Courier New, monospace">planet-custom.properties</FONT>
and place it in the same directory as your existing
<FONT FACE="Courier New, monospace">roller-custom.properties</FONT>
file. Here's what you need to put in this configuration file:</FONT></P>
<OL>
	<LI><P CLASS="western"><FONT SIZE=3>The exact same database
	properties that you put in your Roller custom properties file.</FONT></P>
	<LI><P CLASS="western"><FONT SIZE=3>Add a property called <FONT FACE="Courier New, monospace">cache.dir
	</FONT>that points to the directory that you'd like Planet to use
	for caching it's RSS and Atom newsfeeds. The default setting is:<BR>
	    <FONT FACE="Courier New, monospace">cache.dir=${user.home}/roller_data/planetcache</FONT></FONT></P>
</OL>
<P CLASS="western"><FONT SIZE=3>Once you've made those property
settings restart Roller and proceed to the next step.</FONT></P>
<H4 CLASS="western">STEP 4: Display your Planet aggregations</H4>
<P CLASS="western">You can use Roller's UI to add external RSS/Atom
feeds to the Planet setup. To display these feeds you'll need to do a
little template customization. The easier way to get started is to
Roller's existing Front-Page theme. Here's how.</P>
<P CLASS="western"><SPAN STYLE="background: transparent">Create a
weblog to server as the front-page of your Roller site. Start with
the Front-Page theme and customize it. Edit the weblog template and
look for the part that mentions PLANET-entries. Comment-out the
SITE-WIDE part and un-comment the PLANET-entries part. The double
hash “##” marks indicate a commented-out line. The code should
look like this:<BR></SPAN><BR><BR>
</P>
<PRE><SPAN STYLE="background: transparent">   <FONT FACE="Courier New, monospace"><FONT SIZE=3>## 1) SITE-WIDE entries (the default)</SPAN></FONT></FONT>
<SPAN STYLE="background: transparent">   <FONT FACE="Courier New, monospace"><FONT SIZE=3><B>##</B>set($pager = $site.getWeblogEntriesPager($since, $maxResults))</SPAN></FONT></FONT>

<SPAN STYLE="background: transparent">   <FONT FACE="Courier New, monospace"><FONT SIZE=3>## 2) PLANET-entries</SPAN></FONT></FONT>
<SPAN STYLE="background: transparent">   <FONT FACE="Courier New, monospace"><FONT SIZE=3><B>#</B>set($pager = $planet.getAggregationPager($since, $maxResults))</SPAN></FONT></FONT>
</PRE><P CLASS="western">
<SPAN STYLE="background: #ffffff">With that in place, your front-page
will be display your Planet entries. You can find your Planet feeds
at the following URLs:</SPAN></P>
<UL>
	<LI><P CLASS="western"><SPAN STYLE="background: #ffff00"><A HREF="http://localhost:8080/roller/planetrss"><FONT COLOR="#000000"><SPAN STYLE="background: #ffffff">Main
	Planet feed<BR></SPAN></FONT></A><A HREF="http://localhost:8080/roller/planetrss"><FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><SPAN STYLE="background: #ffffff">http://localhost:8080/roller/planetrss</SPAN></FONT></FONT></A></SPAN></P>
	<LI><P CLASS="western"><SPAN STYLE="background: #ffff00"><A HREF="http://localhost:8080/roller/rollerrss"><FONT COLOR="#000000"><SPAN STYLE="background: #ffffff">Per
	group feed<BR></SPAN></FONT></A><A HREF="http://localhost:8080/roller/rollerrss"><FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><SPAN STYLE="background: #ffffff">http://localhost:8080/roller/planetrss?group=&lt;group-name&gt;</SPAN></FONT></FONT></A></SPAN></P>
</UL>
<H2 CLASS="western">10.2Changing keys in security.xml</SPAN></H2>
<P CLASS="western">Starting with version 2.1, Roller uses the Acegi
security infrastructure. Several of the security features rely on
keys that are intended to be site-specific. These keys are used to
compute HMAC (hash-based message authentication code) values for
<I>Remember Me</I> cookies. Knowledge of these keys could allow an
attacker to forge invalid cookies, and thereby gain unauthorized
access to your Roller installation (at the application level). 
</P>
<P CLASS="western">Roller ships with default values, and these should
assumed to be widely known. You should change your keys to be secret
values specific to your own site (the reason you should change the
anonymous provider key is that a granted authorities list is embedded
within the anonymous authentication token). Here is how to change the
keys. 
</P>
<OL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0in">Find your
	<TT><FONT FACE="Courier New">WEB-INF/security.xml</FONT></TT> file
	and open it in a text editor.</P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0in">For the beans with
	ids &quot;anonymousAuthenticationProvider&quot; and
	&quot;anonymousProcessingFilter&quot; change the <TT>value</TT>
	field of the property with <TT>name=&quot;key&quot;</TT> to be
	different from the default value of &quot;anonymous&quot;. You can
	use any string value of your choosing. It should be a secret
	specific to your site. Use the same key value in these two beans;
	they must match.</P>
	<LI><P CLASS="western">For the beans with ids &quot;rememberMeServices&quot;
	and &quot;rememberMeAuthenticationProvider&quot; change the <TT>value</TT>
	field of the property with <TT>name=&quot;key&quot;</TT> to be
	different from the default value of &quot;rollerlovesacegi&quot;.
	You can use any string value of your choosing. It should be a secret
	specific to your site. Use the same key value in these two beans;
	they must match 
	</P>
</OL>
<H2 CLASS="western"></H2>
<H2 CLASS="western" STYLE="page-break-before: always">10.3Using
Server-provided database and mail resources</H2>
<P CLASS="western">It's easiest to setup the database connection
using the 'jdbc' approach and the mail connection using 'properties'
but in some cases you might want to use the datasource and mail
session resources provided by your application server instead. You
might do this for a couple of reasons, for example you might want to
take advantage of the database connection pool management that is
built into your server. Or, your boss might want everything to be
managed via your server's Admin Console. No matter the reason, it's
easy to do in Roller.</P>
<P CLASS="western">Instead of setting up your database and mail
connections in <FONT FACE="Courier New, monospace">roller-custom.properties</FONT>
like this:</P>
<PRE>   installation.type=auto

   database.configurationType=jdbc
   database.jdbc.driverClass=<I><B>JDBC driver class name</B></I>]
   database.jdbc.connectionURL=<I><B>JDBC connection URL</B></I>
   database.jdbc.username=<I><B>database username</B></I>
   database.jdbc.password=<I><B>database password</B></I>

   mail.configurationType=properties
   mail.hostName=<I><B>mail server hostname</B></I>
</PRE><P CLASS="western">
You do it like this:</P>
<PRE>    installation.type=auto

    database.configurationType=jndi
    database.jndi.name=jdbc/rollerdb

    mail.configurationType=jndi
    mail.jndi.name=mail/Session
</PRE><P CLASS="western">
The <FONT FACE="Courier New, monospace">database.configurationType=jndi</FONT>
setting tells Roller to look up it's datasource via Java Naming and
Directory Interface (JNDI). Roller will look for a datasource with
the JNDI name <FONT FACE="Courier New, monospace">jdbc/rollerdb</FONT>.
You must set that datasource up in your server.</P>
<P CLASS="western">The <FONT FACE="Courier New, monospace">mail.configurationType=jndi</FONT>
setting tells Roller to look up it's mail sessions via JNDI. Roller
will look for a mail session provider with the JNDI name
<FONT FACE="Courier New, monospace">mail/Session</FONT>. You must set
that provider up in your server. Let's discuss how to do that on
Tomcat.</P>
<H4 CLASS="western"><BR><BR>
</H4>
<H4 CLASS="western" STYLE="page-break-before: always">Setting up
database and mail resources on Tomcat 
</H4>
<P CLASS="western">There are a couple of different ways to setup
database and mail resources on Tomcat. One way is to provide a
Context Configuration file. Here's how to do that on Tomcat 5.5 and
6.0. 
</P>
<P CLASS="western">Before you deploy Roller to Tomcat, create a new
Context Configuration file in the installation directory 
<FONT FACE="Courier New, monospace">webapp/roller/META-INF</FONT>.
You'll find an example configuration file there, shown below. Rename
it from <FONT FACE="Courier New, monospace">context.xml-example</FONT>
to <FONT FACE="Courier New, monospace">context.xml</FONT> and
substitute the correct values for your system where you see the <B>bold</B>
text. 
</P>
<P CLASS="western">    <FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;Context
path=&quot;/roller&quot; </FONT></FONT>
</P>
<PRE>        <FONT FACE="Courier New, monospace"><FONT SIZE=2>docBase=&quot;<B>/usr/local/apache-roller-4.0/webapp/roller</B>&quot; debug=&quot;0&quot;&gt;</FONT></FONT>

        <FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;Resource name=&quot;jdbc/rollerdb&quot; auth=&quot;Container&quot; type=&quot;javax.sql.DataSource&quot;</FONT></FONT>
            <FONT FACE="Courier New, monospace"><FONT SIZE=2>driverClassName=&quot;<B>com.mysql.jdbc.Driver</B>&quot;</FONT></FONT>
            <FONT FACE="Courier New, monospace"><FONT SIZE=2>url=&quot;<B>jdbc:mysql://localhost:3306/rollerdb?autoReconnect=true&amp;amp;useUnicode=true&amp;amp;characterEncoding=utf-8&amp;amp;mysqlEncoding=utf8</B>&quot;</FONT></FONT>
            <FONT FACE="Courier New, monospace"><FONT SIZE=2>username=&quot;<B>scott</B>&quot;</FONT></FONT>
            <FONT FACE="Courier New, monospace"><FONT SIZE=2>password=&quot;<B>tiger</B>&quot;</FONT></FONT>
            <FONT FACE="Courier New, monospace"><FONT SIZE=2>maxActive=&quot;20&quot; maxIdle=&quot;3&quot; removeAbandoned=&quot;true&quot; maxWait=&quot;3000&quot; /&gt;</FONT></FONT>

        <FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;Resource name=&quot;mail/Session&quot; auth=&quot;Container&quot; type=&quot;javax.mail.Session&quot; </FONT></FONT>
            <FONT FACE="Courier New, monospace"><FONT SIZE=2>mail.smtp.host=&quot;<B>mailhost.example.com</B>&quot; /&gt;</FONT></FONT>
    <FONT FACE="Courier New, monospace"><FONT SIZE=2>&lt;/Context&gt;</FONT></FONT></PRE><P CLASS="western">
<BR><BR>
</P>
<P CLASS="western">Once your context.xml file is in place, deploy
Roller to Tomcat as described in <B>Section 7</B>.</P>
<H2 CLASS="western">10.4Manual table creation and upgrade</H2>
<P CLASS="western">If you would rather create your database tables
yourself instead of letting Roller do it automatically, you can.
Instead of enabling automatic installation you should disable it by
putting this in your <FONT FACE="Courier New, monospace">roller-custom.properties</FONT>
file:</P>
<PRE>    installation.type=manual
</PRE><P CLASS="western">
Now you've got to run the database creation script. You can find the
database creation scripts in the
<FONT FACE="Courier New, monospace">webapp/roller/WEB-INF/classes/dbscripts</FONT>
directory. You'll find a <FONT FACE="Courier New, monospace">createdb.sql</FONT>
script for each of the databases we hope to support.</P>
<P CLASS="western">And if you are upgrading Roller, you'll have to
run the migration scripts. You'll find those under the <FONT FACE="Courier New, monospace">dbscripts</FONT>
directory too.</P>
<H1 CLASS="western">11Upgrading Roller</H1>
<P CLASS="western">This section describes how to upgrade an existing
Roller installation to the latest release of Roller by shutting down,
backing up and then following the installation instructions with a
couple of key exceptions. But first, there is some required reading
for those upgrading from ancient versions of Roller.</P>
<H2 CLASS="western">11.1For those upgrading from Roller 2.x to Roller
4.0.1</H2>
<P CLASS="western"><SPAN STYLE="background: transparent">Roller 3.0
and Roller 4.0 were <I>major</I> releases and made some big changes
to the way that Roller works. If you're upgrading from the 2.x series
you need to be aware of them and especially the new URL structure and
the new template system.</SPAN></P>
<H4 CLASS="western">New URL structure</H4>
<P CLASS="western"><SPAN STYLE="background: transparent">The most
significant change is the new URL structure – we've completely
change all of the Roller weblog URLs. We continue to support old
Roller URLs, but they are forwarded to the new system. That ensures
that nobody will get a 404 when accessing your weblog using an old
URL, but you'll still want to encourage people to change links that
point to your weblog's old URL, which was of the format:</SPAN></P>
<P CLASS="western"><FONT FACE="Courier New"><SPAN STYLE="background: transparent">	http://&lt;hostname&gt;/roller/page/&lt;weblog-handle&gt;</SPAN></FONT></P>
<P CLASS="western"><SPAN STYLE="background: transparent">To use the
new format, which is:</SPAN></P>
<P CLASS="western"><FONT FACE="Courier New"><SPAN STYLE="background: transparent">	http://&lt;hostname&gt;/roller/&lt;weblog-handle&gt;</SPAN></FONT></P>
<P CLASS="western"><SPAN STYLE="background: transparent">Unfortunately,
some custom templates that use relative URLs will have problem with
this new URL structure. So, before you go live you should set-up a
test server and allow your users to take a look at their weblogs.</SPAN></P>
<H4 CLASS="western">New template system</H4>
<P CLASS="western"><SPAN STYLE="background: transparent">We've
developed a completely new and greatly improved template system for
Roller, which includes new models and new macros. We want to
encourage people to start using this new system for all new template
and theme development, so we have made it the default. And, by
default, we've turned off the old system. </SPAN>
</P>
<P CLASS="western"><SPAN STYLE="background: transparent">So, if you
are upgrading and you want your weblogs to work, you <I>must</I>
override this Roller property to enable the old “legacy” template
system to work:</SPAN></P>
<P CLASS="western"><A NAME="DDE_LINK"></A><FONT FACE="Courier New"><SPAN STYLE="background: transparent">	rendering.legacyModels.enabled=true</SPAN></FONT></P>
<P CLASS="western"><SPAN STYLE="background: transparent">See <B>Section
11</B> for information on overriding Roller startup properties.</SPAN></P>
<H4 CLASS="western">New task management system</H4>
<P CLASS="western" STYLE="margin-bottom: 0in"><SPAN STYLE="background: transparent"><SPAN STYLE="font-weight: normal">In
Roller 3.1 we changed the scheduled task properties, so if you were
overriding  the</SPAN><FONT FACE="Courier New, monospace"><SPAN STYLE="font-weight: normal">
tasks.daily</SPAN></FONT><SPAN STYLE="font-weight: normal"> or
</SPAN><FONT FACE="Courier New, monospace"><SPAN STYLE="font-weight: normal">tasks.hourly</SPAN></FONT><SPAN STYLE="font-weight: normal">
properties you need to change your </SPAN><FONT FACE="Courier New, monospace"><SPAN STYLE="font-weight: normal">roller-custom.properties</SPAN></FONT><SPAN STYLE="font-weight: normal">
file. Refer to the notes in </SPAN><B>Section 11</B><SPAN STYLE="font-weight: normal">
  </SPAN><FONT FACE="Courier New, monospace"><SPAN STYLE="font-weight: normal">roller.properties</SPAN></FONT><SPAN STYLE="font-weight: normal">
in the Scheduled Tasks Configuration area.</SPAN></SPAN></P>
<H4 CLASS="western">New package names</H4>
<P CLASS="western"><SPAN STYLE="background: transparent">In Roller
3.0 or package names went from from org.roller to org.apache.roller.
In Roller 4.0 they've changed again to org.apache.roller.weblogger.
So check your configuration files for references to the old package
names. And if you created any plugins, you'll have to recompile them
against the new code base.</SPAN></P>
<H4 CLASS="western">Encrypted passwords now the default</H4>
<P CLASS="western"><SPAN STYLE="background: transparent">Roller now
defaults to storing passwords in the database in an emcrypted format.
So, if you are upgrading an older version of Roller and you went with
the default setting for encrypted passwords, which was off by
default, then you'll need to set this propery in your
</SPAN><FONT FACE="Courier New, monospace"><SPAN STYLE="background: transparent">roller-custom.properties</SPAN></FONT><SPAN STYLE="background: transparent">
file:</SPAN></P>
<P CLASS="western"><FONT FACE="Courier New"><SPAN STYLE="background: transparent">	passwds.encryption.enabled=false</SPAN></FONT></P>
<H4 CLASS="western">Non-core themes removed</H4>
<P CLASS="western"><SPAN STYLE="background: transparent">The Roller
project is establishing a community site for sharing and maintaining
of themes and plugins. </SPAN>
</P>
<P CLASS="western"><SPAN STYLE="background: transparent">From now
only, Roller will ship with only a core set of four themes (Basic,
BrushedMetal, Sotto and a new Frontpage themes, which is just for
site-wide front-page weblogs) . All other themes have been removed
from Roller and moved to the Roller Support project at Java.net
(<A HREF="http://roller.dev.java.net/">http://roller.dev.java.net</A>).
If you or your users use any other themes, then you'll need to
download and install them according to the instructions on that site.</SPAN></P>
<H4 CLASS="western">Non-core plugins removed</H4>
<P CLASS="western"><SPAN STYLE="background: transparent">The same
applies to plugins. The JSPWiki, Textile and Read More plugins have
also been moved to the Roller Support project at Java.net
(<A HREF="http://roller.dev.java.net/">http://roller.dev.java.net</A>)
to become part of a community maintained repository. If you or your
users use any other themes, then you'll need to download and install
them according to the instructions on that site.</SPAN></P>
<H2 CLASS="western"><A NAME="ref-UpgradeGuide_2.1-1"></A>11.2Backup
your old Roller 
</H2>
<P CLASS="western">Before you get started with your upgrade, shutdown
your existing Roller install and make a backup of your Roller data. 
</P>
<P CLASS="western">Backup your database to somewhere safe on your
system or to a remote file-system. Here are a couple of examples: of
how to do that on various databases:</P>
<UL>
	<LI><P CLASS="western">On MySQL you create a dump file<BR><FONT FACE="Courier New">mysqldump
	-u scott -p rollerdb &gt; /somewhere/safe/roller.dmp</FONT></P>
	<LI><P CLASS="western">With PostgreSQL you can do the same
	thing<BR><FONT FACE="Courier New">pg_dump -h 127.0.0.1 -W -U scott
	rollerdb &gt; /somewhere/safe/roller.db</FONT></P>
</UL>
<P CLASS="western">And backup any other data. Make a copy of your
Roller data directory, i.e. the one with your Roller resources and
search-index files. If you added or modified any files within your
old Roller web application directory, then you'll want to backup that
whole directory. 
</P>
<H4 CLASS="western">Don't store files inside of Roller</H4>
<P CLASS="western">If you do, you'll have to move them around on
every Roller upgrade. Put your uploads and themes in a separate
directory and point to them via the <FONT FACE="Courier New, monospace">upoads.dir</FONT>
and <FONT FACE="Courier New, monospace">themes.dir </FONT>properties.</P>
<P CLASS="western">If you're upgrading from an older version of
Roller you may have been storing uploaded files inside the Roller web
application, in a <FONT FACE="Courier New, monospace">/resources</FONT>
subdirectory. In Roller 4.0 the default is to store those files your
home directory under <FONT FACE="Courier New, monospace">roller_data/uploads</FONT>,
so you'll have to copy your uploads there. If you want to change the
location of the uploads directory, overload the property <FONT FACE="Courier New, monospace">upoads.dir</FONT>.</P>
<H2 CLASS="western" STYLE="page-break-before: always"><A NAME="ref-UpgradeGuide_2.1-2"></A>
11.3Install and startup the new Roller 
</H2>
<P CLASS="western">Follow the normal installation instructions for
the new version of Roller, but...</P>
<UL>
	<LI><P CLASS="western">When creating your <FONT FACE="Courier New, monospace">roller-custom.properties</FONT>,
	copy of your old one. Carefully review each property and compare it
	to the property settings in the Roller 4.0 property file in <B>Section
	11</B>. 
	</P>
	<LI><P CLASS="western">Don't create a new database for Roller.
	Instead point Roller to your existing Roller database. <B>This is
	completely safe because you created a backup of your database
	(right?)</B>.</P>
</UL>
<P CLASS="western">When you deploy and startup, Roller will detect
that your database needs to be upgraded and it will offer to run each
of the migrations scripts necessary to upgrade you from your old
version to the new version of Roller.</P>
<P CLASS="western"><B>NOTE</B>: if you would rather run the database
migration scripts yourself, you can. See <B>Section 9.4</B>.</P>
<P CLASS="western"><B>NOTE</B>: On Tomcat, before startup you should
delete the contents of the Tomcat work directory</P>
<H1 CLASS="western">12roller.properties</H1>
<PRE><FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># roller.properties</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># This file is for meant for Roller deployment properties</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Any properties that don't change at runtime are defined here</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># You can override the values in this file in a couple ways ..</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#   1. define a roller-custom.properties file and place it somewhere</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#       at the root of one of your classpath locations.</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#       for example:</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#           $TOMCAT_HOME/common/classes</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#           $ROLLER_LOCATION/WEB-INF/classes</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#   2. specify a custom properties file via jvm option</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#       example:</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#           roller.custom.config=/path/to/properties/file</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#   **NOTE: if you run multiple instances of roller on the same server</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#           then you should beware of the fact that the override options above</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#           may affect *all* of you running instances.  if you want to do</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#           custom overrides for each instance then you must do it by</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#           placing a roller-custom.properties file at WEB-INF/classes/ in</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#           each of you roller installations.</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># properties in this file are accessed like this ...</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#    WebloggerConfig.getProperty(&quot;propname&quot;);</FONT></FONT>


<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#-----------------------------------------------------------------------------</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Table of contents</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#-----------------------------------------------------------------------------</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># -- Required configuration settings</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># -- Directory settings</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># -- Feature specific settings</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># -- Scheduled tasks configuration</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># -- Cache configuratation</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># -- Security settings</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># -- Rendering system</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># -- Weblog ping system</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># -- Pluggable backend, page and editor plugins</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># -- Log4j logging settings</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># -- Other settings</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># -- Experimental, deprecated and &quot;undocumented&quot; settings</FONT></FONT>



<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#-----------------------------------------------------------------------------</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Required configuration settings</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#-----------------------------------------------------------------------------</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Installation type 'auto' or 'manual'</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># - Set to 'auto' if you'd like tables to be auto-created if they are not found</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#   on startup and auto-upgraded if they need it.</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># - Set to 'manual' if you'd want to run the SQL scripts by hand. </FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">installation.type=manual</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#---------------------------------</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Database configuration settings</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Specify database configuration type of 'jndi' or 'jdbc'</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">database.configurationType=jndi</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># For database configuration type 'jndi',this will be used</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">database.jndi.name=jdbc/rollerdb</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># For database configuration type of 'jdbc', you MUST override these</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">database.jdbc.driverClass=</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">database.jdbc.connectionURL=</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">database.jdbc.username=</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">database.jdbc.password=</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#---------------------------------</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Mail server connection parameters</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Specify mail configuration type of 'jndi' or 'properties'</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">mail.configurationType=jndi</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># For mail configuration type 'jndi', this will be used</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">mail.jndi.name=mail/Session</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># For mail configuration type of 'properties', you MUST override hostname</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">mail.hostname=</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Only override mail username and password if your mail server requires them</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#mail.username=</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#mail.password=</FONT></FONT>


<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#-----------------------------------------------------------------------------</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Directory settings</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#-----------------------------------------------------------------------------</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># The directory in which Roller will upload files</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">uploads.dir=${user.home}/roller_data/uploads</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># The context path under which resoures will be made available </FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">uploads.url=/resources</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Directory in which search index is to be created </FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># (delete this directory to force Roller to recreate the entire search index)</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">search.index.dir=${user.home}/roller_data/search-index</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># The directory in which Roller will look for themes</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">themes.dir=${webapp.context}</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># If you enable Planet (see below), then you must specify the path to a cache</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># directory that exists and is writable by the Roller process </FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">planet.aggregator.cache.dir=${user.home}/roller_data/planetcache</FONT></FONT>



<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#-----------------------------------------------------------------------------</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Feature specific settings</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#-----------------------------------------------------------------------------</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># True to enable group blogging. False to prevent users from creating more </FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># than one weblog and from joining other weblogs.</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">groupblogging.enabled=true</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#----------------------------------</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># search</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Enables indexing of weblog entries and comments and enables search servlet</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">search.enabled=true</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Whether or not to include comments in the search index.  If this</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># is false, comments are not included in the index.</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">search.index.comments=true</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#----------------------------------</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># comments and trackbacks</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">comment.notification.hideCommenterAddresses=false</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># comment throttleing</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">comment.throttle.enabled=false</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">comment.throttle.threshold=25</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">comment.throttle.interval=60</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">comment.throttle.maxentries=250</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Plugable comment authentication</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">comment.authenticator.classname=\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">org.apache.roller.weblogger.ui.rendering.plugins.comments.MathCommentAuthenticator</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># pluggable comment validation</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">comment.validator.classnames=\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">org.apache.roller.weblogger.ui.rendering.plugins.comments.BlacklistCommentValidator,\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">org.apache.roller.weblogger.ui.rendering.plugins.comments.ExcessLinksCommentValidator,\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">org.apache.roller.weblogger.ui.rendering.plugins.comments.ExcessSizeCommentValidator</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#org.apache.roller.weblogger.ui.rendering.plugins.comments.AkismetCommentValidator</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">comment.validator.excessLinks.threshold=3</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">comment.validator.excessSize.threshold=1000</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#comment.validator.akismet.key=&lt;get one at wordpress.com&gt;</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># pluggable comment formatters</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">comment.formatter.classnames=\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">org.apache.roller.weblogger.business.plugins.comment.AutoformatPlugin,\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">org.apache.roller.weblogger.business.plugins.comment.LinkMarkupPlugin,\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">org.apache.roller.weblogger.business.plugins.comment.HTMLSubsetPlugin</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># enables site full blacklist check on comment posts (default: true)</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">site.blacklist.enable.comments=true</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># enables site full blacklist check at time of trackback post (default: true)</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">site.blacklist.enable.trackbacks=true</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># enables partial blacklist check (not including blacklist.txt) for each incoming referrer</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">site.blacklist.enable.referrers=true</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Trackback protection. Set this only if you need to limit the URLs to</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># which users may send trackbacks. Regex expressions are allowed, for example:</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># trackback.allowedURLs=http://w3.ibm.com/.*||http://another.example.com/.*</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">trackback.allowedURLs=</FONT></FONT>



<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#----------------------------------</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Planet Aggregator settings</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Set to true to enable the Planet aggregator. You also need to enable the </FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># RefreshRollerPlanetTask task below to get the feed fetcher running.</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">planet.aggregator.enabled=false</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Planet backend guice module, customized for use with Weblogger</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">planet.aggregator.guice.module=\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">org.apache.roller.weblogger.planet.business.jpa.RollerPlanetModule</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Number of queries allowed per day</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">planet.aggregator.technorati.limit=500</FONT></FONT>


<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#----------------------------------</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># referrer processing</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Enable built-in referrer processing?</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">referrers.processing.enabled=true</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Change to true if you want to process referrers asynchronously.</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># You can choose how many threads to use and sleep time (in seconds) </FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">referrers.asyncProcessing.enabled=false</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">referrers.queue.numWorkers=3</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">referrers.queue.sleepTime=10</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Robot check in referral processing.  If this pattern is set and the User-Agent </FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># in the request matches this pattern, all referral processing is skipped; this</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># means that the referral spam check is skipped, the request is allowed to </FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># proceed, but the referrer is not recorded and hit count is not incremented.  </FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Recommended for large sites that get a lot of legitimate crawler bot traffic.</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># The pattern here is a suggestion that has been reported to work well.</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#referrer.robotCheck.userAgentPattern=.*(slurp|bot|java).*</FONT></FONT>


<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#-----------------------------------------------------------------------------</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Scheduled tasks configuration</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#-----------------------------------------------------------------------------</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Scheduled Background Tasks ... all times are in minutes.</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Task properties should follow the given format ...</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#     tasks.&lt;taskname&gt;.&lt;prop&gt;=&lt;value&gt;</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># The *enabled* tasks are defined by tasks.enabled=&lt;taskname&gt;[,&lt;taskname&gt;]</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Tasks which are enabled.  Only tasks listed here will be run.</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">tasks.enabled=ScheduledEntriesTask,ResetHitCountsTask,TurnoverReferersTask,PingQueueTask</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># client identifier.  should be unique for each instance in a cluster.</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">tasks.clientId=defaultClientId</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Publish scheduled weblog entries</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">tasks.ScheduledEntriesTask.class=org.apache.roller.weblogger.business.runnable.ScheduledEntriesTask</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">tasks.ScheduledEntriesTask.startTime=immediate</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">tasks.ScheduledEntriesTask.interval=1</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">tasks.ScheduledEntriesTask.leaseTime=30</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Reset hit counts</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">tasks.ResetHitCountsTask.class=org.apache.roller.weblogger.business.runnable.ResetHitCountsTask</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">tasks.ResetHitCountsTask.startTime=startOfDay</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">tasks.ResetHitCountsTask.interval=1440</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">tasks.ResetHitCountsTask.leaseTime=30</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Reset referer counts</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">tasks.TurnoverReferersTask.class=org.apache.roller.weblogger.business.runnable.TurnoverReferersTask</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">tasks.TurnoverReferersTask.startTime=startOfDay</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">tasks.TurnoverReferersTask.interval=1440</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">tasks.TurnoverReferersTask.leaseTime=30</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Ping processor, does sending of pings</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">tasks.PingQueueTask.class=org.apache.roller.weblogger.business.pings.PingQueueTask</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">tasks.PingQueueTask.startTime=immediate</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">tasks.PingQueueTask.interval=5</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">tasks.PingQueueTask.leaseTime=30</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Sync Roller weblogs with planet</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">tasks.SyncWebsitesTask.class=org.apache.roller.weblogger.planet.tasks.SyncWebsitesTask</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">tasks.SyncWebsitesTask.startTime=startOfDay</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">tasks.SyncWebsitesTask.interval=1440</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">tasks.SyncWebsitesTask.leaseTime=30</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Refresh entries for planet feeds</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">tasks.RefreshRollerPlanetTask.class=org.apache.roller.weblogger.planet.tasks.RefreshRollerPlanetTask</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">tasks.RefreshRollerPlanetTask.startTime=startOfHour</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">tasks.RefreshRollerPlanetTask.interval=60</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">tasks.RefreshRollerPlanetTask.leaseTime=30</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Technorati rankings for planet feeds</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">tasks.TechnoratiRankingsTask.class=org.apache.roller.weblogger.planet.tasks.TechnoratiRankingsTask</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">tasks.TechnoratiRankingsTask.startTime=startOfDay</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">tasks.TechnoratiRankingsTask.interval=1440</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">tasks.TechnoratiRankingsTask.leaseTime=30</FONT></FONT>


<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#-----------------------------------------------------------------------------</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Cache configuratation</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#-----------------------------------------------------------------------------</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Remember... times are in seconds</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Default settings suitable for 100 user system</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Cache properties all follow the given format ...</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#     cache.&lt;cache_id&gt;.&lt;prop&gt;=&lt;value&gt;</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># we then pass all &lt;prop&gt;=&lt;value&gt; pairs into the cache manager when the cache</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># is being constructed.  this makes it easy to add cache properties that can</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># be used by the specified CacheFactory you are using.</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># NOTE: it is expected that property validation happens in the CacheFactory</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># The default cache implementation we want to use</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">cache.defaultFactory=org.apache.roller.weblogger.util.cache.ExpiringLRUCacheFactoryImpl</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">cache.customHandlers=</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># set &quot;true&quot; to NOT cache the custom pages for users who are logged in</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">cache.excludeOwnerEditPages=false</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># This sets how many minutes into the future we look to prepare</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># entries posted into the future which need to be invalidated from the cache.</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># It is very unlikely that this should ever need to be changed</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">cache.futureInvalidations.peerTime=3</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Site-wide cache (all content for site-wide frontpage weblog)</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">cache.sitewide.enabled=true</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">cache.sitewide.size=50</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">cache.sitewide.timeout=1800</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Weblog page cache (all the weblog content)</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">cache.weblogpage.enabled=true</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">cache.weblogpage.size=400</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">cache.weblogpage.timeout=3600</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Feed cache (xml feeds like rss, atom, etc)</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">cache.weblogfeed.enabled=true</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">cache.weblogfeed.size=200</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">cache.weblogfeed.timeout=3600</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Planet cache (planet page and rss feed)</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">cache.planet.enabled=true</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">cache.planet.size=10</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">cache.planet.timeout=1800</FONT></FONT>



<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#-----------------------------------------------------------------------------</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Security settings</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#-----------------------------------------------------------------------------</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Enables HTTPS for login page only</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">securelogin.enabled=false</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Enable scheme enforcement?</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Scheme enforcement ensures that specific URLs are viewed only via HTTPS</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">schemeenforcement.enabled=false</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># URL patterns that require HTTPS</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">schemeenforcement.https.urls=/roller_j_security_check,\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">/roller-ui/login-redirect.jsp,\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">/roller-ui/login.rol,\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">/roller-ui/register.rol,/roller-ui/register!save.rol,\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">/roller-ui/profile.rol,/roller-ui/profile!save.rol,\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">/roller-ui/admin/userAdmin.rol,\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">/roller-ui/admin/createUser.rol,/roller-ui/admin/createUser!save.rol,\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">/roller-ui/authoring/userdata,\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">/roller-ui/authoring/membersInvite.rol,/roller-ui/authoring/membersInvite!save.rol</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Password security settings</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">passwds.encryption.enabled=true</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">passwds.encryption.algorithm=SHA</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#----------------------------------</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Single-Sign-On</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Enables Roller to behave differently when registering new users</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># in an SSO-enabled environment. You must configure security.xml appropriately.</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">users.sso.enabled=false</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Set these properties for a custom LDAP schema (optional)</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#users.sso.registry.ldap.attributes.name=cn</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#users.sso.registry.ldap.attributes.email=mail</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#users.sso.registry.ldap.attributes.locale=locale</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#users.sso.registry.ldap.attributes.timezone=timezone</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># If you don't want user credentials from LDAP/etc to be stored in Roller</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># (possibly in clear-text) leave this alone, otherwise set to true.</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># i.e. you would like a backup auth mechanism in case LDAP is down.</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">users.sso.passwords.save=false</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># if you don't want passwords stored in DB, set this to the default value.</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">users.sso.passwords.defaultValue=&lt;unknown&gt;</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">users.sso.autoProvision.enabled=false</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">users.sso.autoProvision.className=\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">org.apache.roller.weblogger.ui.core.security.BasicUserAutoProvision</FONT></FONT>


<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#-----------------------------------------------------------------------------</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Rendering system</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#-----------------------------------------------------------------------------</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Are the old pre-3.0 models and macros enabled?</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">rendering.legacyModels.enabled=false</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># The set of default Roller renderer factories.</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">rendering.rollerRendererFactories=\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">org.apache.roller.weblogger.ui.rendering.velocity.VelocityRendererFactory</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># List of available template languages</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">rendering.templateLanguages=velocity</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># The set of user defined renderer factories.  These are prepended to the list above.</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">rendering.userRendererFactories=</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># The set of default Roller request mappers</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">rendering.rollerRequestMappers=\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">org.apache.roller.weblogger.ui.rendering.WeblogRequestMapper</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># The set of user defined request mappers.  These are prepended to the list above.</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">rendering.userRequestMappers=</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Url path elements which can NEVER be considered a weblog url</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># each represents a url at the application root, i.e. /&lt;elem&gt;/*</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">rendering.weblogMapper.rollerProtectedUrls=\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">roller-ui,images,theme,themes,CommentAuthenticatorServlet,\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">index.jsp,favicon.ico,robots.txt,\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">page,flavor,rss,atom,language,search,comments,rsd,resource,xmlrpc,planetrss</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Set of user defined protected urls.  These are added to the set above.</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">rendering.weblogMapper.userProtectedUrls=</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Set of models to be made available for weblog page rendering</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">rendering.pageModels=\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">org.apache.roller.weblogger.ui.rendering.model.PageModel,\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">org.apache.roller.weblogger.ui.rendering.model.ConfigModel,\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">org.apache.roller.weblogger.ui.rendering.model.UtilitiesModel,\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">org.apache.roller.weblogger.ui.rendering.model.URLModel,\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">org.apache.roller.weblogger.ui.rendering.model.MessageModel,\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">org.apache.roller.weblogger.ui.rendering.model.CalendarModel,\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">org.apache.roller.weblogger.ui.rendering.model.MenuModel</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Set of models to be made available for weblog feed rendering</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">rendering.feedModels=\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">org.apache.roller.weblogger.ui.rendering.model.FeedModel,\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">org.apache.roller.weblogger.ui.rendering.model.ConfigModel,\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">org.apache.roller.weblogger.ui.rendering.model.UtilitiesModel,\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">org.apache.roller.weblogger.ui.rendering.model.URLModel,\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">org.apache.roller.weblogger.ui.rendering.model.MessageModel</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Set of models to be made available for weblog search rendering</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">rendering.searchModels=\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">org.apache.roller.weblogger.ui.rendering.model.SearchResultsModel,\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">org.apache.roller.weblogger.ui.rendering.model.ConfigModel,\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">org.apache.roller.weblogger.ui.rendering.model.UtilitiesModel,\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">org.apache.roller.weblogger.ui.rendering.model.URLModel,\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">org.apache.roller.weblogger.ui.rendering.model.MessageModel,\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">org.apache.roller.weblogger.ui.rendering.model.CalendarModel,\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">org.apache.roller.weblogger.ui.rendering.model.MenuModel</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Set of models to be made available for weblog page *preview* rendering</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># NOTE: this *does* have some differences between the pageModels</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">rendering.previewModels=\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">org.apache.roller.weblogger.ui.rendering.model.PreviewPageModel,\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">org.apache.roller.weblogger.ui.rendering.model.ConfigModel,\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">org.apache.roller.weblogger.ui.rendering.model.UtilitiesModel,\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">org.apache.roller.weblogger.ui.rendering.model.PreviewURLModel,\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">org.apache.roller.weblogger.ui.rendering.model.MessageModel,\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">org.apache.roller.weblogger.ui.rendering.model.CalendarModel,\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">org.apache.roller.weblogger.ui.rendering.model.MenuModel</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Set of page models specifically for site-wide rendering</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">rendering.siteModels=\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">org.apache.roller.weblogger.ui.rendering.model.SiteModel</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Velocity settings</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">velocity.properties=/WEB-INF/velocity.properties</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Old velocity macro libraries</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">velocity.oldMacroLibraries=\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">deprecated/roller.vm,deprecated/bookmark.vm,deprecated/comments.vm,\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">deprecated/navbar.vm,deprecated/newsfeed.vm,deprecated/referer.vm,\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">deprecated/atommacros.vm,deprecated/rssmacros.vm,deprecated/user.vm,\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">deprecated/weblog.vm,deprecated/website.vm</FONT></FONT>



<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#-----------------------------------------------------------------------------</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Weblog ping system</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#-----------------------------------------------------------------------------</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># The number of attempts to try to reach a ping target before refusing to </FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># requeue it for further retrials. If absent, this defaults to 3.</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">pings.maxPingAttempts=3</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># The interval between ping queue processing runs in minutes.  Must be between </FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># 0 and 120. If set to 0, ping queue processing is disabled on this server; </FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># this is for clustered environments. Make sure it is nonzero on one host in </FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># a cluster.  Don't use the value 0 here to disable ping functionality, you </FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># will instead get an infinitely growing ping queue.  See the documentation on </FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># the properties below to disable ping functionality if you need to.</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># If absent, this defaults to 5.</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">pings.queueProcessingIntervalMins=5</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># The set of initial common ping targets.  This is used to initialize the </FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># database if there are no common ping targets at startup.  Ping targets are </FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># specified as a comma-separated list, each target in the form {{name}{url}}.  </FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># To disable initialization of common ping targets, comment this out, or set it</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># to the empty value.  Common targets can be edited in the UI; this is just </FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># used to set up some typical ones.</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">pings.initialCommonTargets=\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">{{Technorati}{http://rpc.technorati.com/rpc/ping}}\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">,{{Weblogs.com}{http://rpc.weblogs.com/RPC2}}\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">,{{blo.gs}{http://ping.blo.gs/}}\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">,{{java.blogs}{http://javablogs.com/xmlrpc}}\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">,{{blogrolling.com}{http://rpc.blogrolling.com/pinger/}}\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">,{{IceRocket}{http://rpc.icerocket.com:10080/}}</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Specify variant options for known buggy ping targets.</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">pings.variantOptions={{http://rpc.icerocket.com:10080/}{noname}}</FONT></FONT>


<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># This controls whether users are allowed to add custom ping targets.  </FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Set this to false to disallow adding custom targets; if false, the </FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Weblog:Custom Ping Targets menu item will not appear and associated actions </FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># will result in access denied messages.  Leave this false or commented for </FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># normal behavior. </FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># CAUTION: Setting this to true will cause the server to remove all users' </FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># existing custom targets on startup.</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">pings.disallowCustomTargets=false</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># This controls whether the Weblog:Pings menu item and its associated actions </FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># are enabled.  Set this to false to disallow users from configuring autopings </FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># and doing manual pings.  If absent, this defaults to true.</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># NOTE: There is a separate runtime property (configurable from the </FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Admin:Configuration page, that can be used to suspend ping processing without </FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># disabling the UI.</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># CAUTION: Setting this to true will cause the server to remove all users' </FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># existing autoping configurations on startup. Leave this false or commented </FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># for normal behavior.</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">pings.disablePingUsage=false</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Setting both pings.disallowCustomTarget=true and pings.disablePingUsage=true </FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># will effectively disable the ping functionality.</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># This is used for debugging the ping mechanism in Roller.  If this is set </FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># to true, pings that would normally be sent will cause log messages to be sent </FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># but will NOT actually result in real pings being sent.  Leave this false or </FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># commented for normal behavior.</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">pings.logOnly=false</FONT></FONT>



<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#-----------------------------------------------------------------------------</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Pluggable backend, page and editor plugins</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#-----------------------------------------------------------------------------</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Backend Provider</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">weblogger.provider.class=org.apache.roller.weblogger.business.GuiceWebloggerProvider</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Backend Guice module</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">guice.backend.module=org.apache.roller.weblogger.business.jpa.JPAWebloggerModule</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#---------------------------------</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Weblog entry plugins</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">plugins.page=\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">org.apache.roller.weblogger.business.plugins.entry.ConvertLineBreaksPlugin \</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">,org.apache.roller.weblogger.business.plugins.entry.TopicTagPlugin \</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">,org.apache.roller.weblogger.business.plugins.entry.ObfuscateEmailPlugin \</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">,org.apache.roller.weblogger.business.plugins.entry.SmileysPlugin </FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#,org.apache.roller.weblogger.business.plugins.entry.WikipediaLinkPlugin \</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#,org.apache.roller.weblogger.business.plugins.entry.GoogleLinkPlugin \</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#,org.apache.roller.weblogger.business.plugins.entry.AcronymsPlugin \</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#,org.apache.roller.weblogger.business.plugins.entry.BookmarkPlugin</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># The list of configured WeblogEntryEditors available to users</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">plugins.weblogEntryEditors=\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">org.apache.roller.weblogger.ui.core.plugins.TextEditor,\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">org.apache.roller.weblogger.ui.core.plugins.XinhaEditor</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># The &quot;id&quot; of the default editor to use. NOT the class name</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">plugins.defaultEditor=editor-text.jsp</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Default weblog editor</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># The list of available editors is in rollerRuntimeConfigDefs.xml</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">newweblog.editor=editor-text.jsp</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Optional site-wide customization settings for the TopicTag plugin.</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># n.b. these default settings match the coded default values that would be </FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># applied if these were omitted.</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">plugins.topictag.defaultTopicBookmarkName=Default Topic Site</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">plugins.topictag.defaultTopicSite=http://www.technorati.com/tag</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">plugins.topictag.tagRegexWithBookmark=topic:\\{(.*?)\\}\\[(.*?)\\]</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">plugins.topictag.tagRegexWithoutBookmark=topic:\\[(.*?)\\]</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">plugins.topictag.linkFormatString=&lt;a rel=\&quot;tag\&quot; href=\&quot;{0}{1}\&quot;&gt;{2}&lt;/a&gt;</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Set to true to allow only default topic tag site (and avoid costly bookmark queries)</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">plugins.topictag.ignoreBookmarks=true</FONT></FONT>


<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#-----------------------------------------------------------------------------</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Log4j logging settings</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#-----------------------------------------------------------------------------</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">log4j.rootCategory=INFO, roller</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">log4j.appender.roller=org.apache.log4j.DailyRollingFileAppender</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">log4j.appender.roller.File=${catalina.base}/logs/roller.log</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">log4j.appender.roller.layout=org.apache.log4j.PatternLayout</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">log4j.appender.roller.layout.ConversionPattern=%-5p %d{yyyy-MM-dd HH:mm:ss,SSS} %C{1}:%M - %m%n</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Options are: DEBUG, INFO, WARN, ERROR, FATAL</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Roller code</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">log4j.category.org.apache.roller=INFO</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">log4j.category.net.java.roller=INFO</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Roller dependent libraries</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">log4j.category.org.hibernate=INFO</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">log4j.category.org.apache.struts2=INFO</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># the struts2 file upload stuff has some overly verbose messaging</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">log4j.category.org.apache.struts2.interceptor.FileUploadInterceptor=WARN</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">log4j.category.org.springframework=WARN</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">log4j.category.org.acegisecurity=ERROR</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Velocity talks a lot, so by default it is set to STFU mode</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">log4j.category.org.apache.velocity=FATAL</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Roller extras</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">log4j.category.com.ecyrd.jspwiki=ERROR</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">log4j.category.org.tuckey.web.filters.urlrewrite=DEBUG</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">log4j.category.com.opensymphony.oscache=ERROR</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">log4j.category.com.danga.MemCached=WARN</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Ask OpenJPA to log to Log4J via Apache Commons Logging</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">openjpa.Log=commons</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">log4j.category.openjpa.Tool=INFO</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">log4j.category.openjpa.Runtime=INFO</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">log4j.category.openjpa.Remote=WARN</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">log4j.category.openjpa.DataCache=WARN</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">log4j.category.openjpa.MetaData=WARN</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">log4j.category.openjpa.Enhance=WARN</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">log4j.category.openjpa.Query=WARN</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">log4j.category.openjpa.jdbc.SQL=WARN</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">log4j.category.openjpa.jdbc.JDBC=WARN</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">log4j.category.openjpa.jdbc.Schema=WARN</FONT></FONT>


<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#-----------------------------------------------------------------------------</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Other settings</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#-----------------------------------------------------------------------------</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Values of the properties in this list get system property expansion </FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># applied to them when loaded.</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">config.expandedProperties=uploads.dir,search.index.dir</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># True to enable history in Atom feeds with next/prev links</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">site.newsfeeds.history.enabled=false</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Some folks consider remember-me type functionality to be a security</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">rememberme.enabled=true</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># You might want to disable GZIP if your app server already supports it</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">compression.gzipResponse.enabled=true</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># specifies the max number of tags allowed in URL ( /feed?tags=foo+bar+baz )</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">tags.queries.maxIntersectionSize=3</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Characters to be allowed in user names (change at your own risk)</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">username.allowedChars=A-Za-z0-9</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># weblog entry editor</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">weblogentry.editor.showFullPermalink=true</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># editor theme to be used (corresponds to directory name under /theme)</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">editor.theme=tan</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># list of links to include in root bookmark folder of each new blog</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># format is like so: linktitle2|linkurl2,linktitle2|linkurl2,linktitle3|linkurl3</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">newuser.blogroll=\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">Dave Johnson|http://rollerweblogger.org/roller,\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">Matt Raible|http://raibledesigns.com/page/rd,\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">Lance Lavandowska|http://rollerweblogger.org/lance,\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">Henri Yandell|http://blog.generationjava.com/,\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">Elias Torres|http://torrez.us/,\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">Jeff Blattman|http://blogs.sun.com/jtb,\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">blogs.sun.com|http://blogs.sun.com,\</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">jroller.com|http://jroller.com</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># comma-separated list of top-level categories to be created in each new weblog</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">newuser.categories=General,Status,Java,Music,Politics</FONT></FONT>



<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#-----------------------------------------------------------------------------</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Experimental, deprecated and &quot;undocumented&quot; settings</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">#-----------------------------------------------------------------------------</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Atom Publishing Protocol (APP) - this is an incomplete and untested </FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># implementation of an unfinished IETF specification. </FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Intended only for interoperability testing. DO NOT ENABLE IN PRODUCTION!</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">webservices.atomprotocol.enabled=false</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># For databases with one sec timestamp resolution, we need a one sec throttle</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">webservices.atomprotocol.oneSecondThrottle=true</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Atom-like Admin Publishing Protocol (AAPP) - this is an experimental admin</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># protocol based on ideas from the Atom protocol. </FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># Intended only for interoperability testing. DO NOT ENABLE IN PRODUCTION!</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">webservices.adminprotocol.enabled=false</FONT></FONT>

<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># If you are using the Hibernate backend (deprecated as of Roller 4.0), </FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt"># you MUST override this to use a database other than MySQL4</FONT></FONT>
<FONT FACE="Courier New"><FONT SIZE=1 STYLE="font-size: 8pt">hibernate.dialect=org.hibernate.dialect.MySQLDialect</FONT></FONT></PRE>
</BODY>
</HTML>